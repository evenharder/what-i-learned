12월은 예상보다 Competitive Programming을 훨씬 많이 했다. 최근에 별로 못하기도 했을 뿐더러, 새로운 개발환경으로 가볍게 코드를 짜면서 익숙해지고 싶었다. 개발 환경과 해결한 문제위주로 다루어보고자 한다.

# 개발 환경 설정
컴퓨터로는 VS Code + NeoVim 플러그인을 사용하며, 갤럭시 탭으로는 Vim(NeoVim)으로 정착했다. 이제 vim에서는 pane과 tab 만들고 조정하기에 익숙해졌다. 직접 많은 스크립트에 힘입어 컴파일도 편리해졌다.

# 이 달의 문제들
이번 달에는 얼마나 많은 맞았습니다와 틀렸습니다와 함께했는지, 또 배운 점이 있는지 돌아볼 시간이다. 사실, 문제에 대한 풀이를 적기가 굉장히 오랜만이다. 구체적인 풀이는 공식 editorial이나 블로그에 있다보니 간략히만 쓰고 감상 위주로 서술하려고 한다.

## 2022 Sogang Programming Contest
[대회 문제 링크](https://www.acmicpc.net/category/697). 늘 준수한 문제를 선보이는 서강대 프로그래밍 대회이다.

### Master
- A : 사칙연산 문제이다. `cout << 3 * b * c / a;`
- B : 한 번에 AC받기 힘들어보였고 실제로 2번 틀렸다. 사소한 실수 두 개를 찾는데 오랜 시간이 걸렸다. 마침 며칠 전에 실용주의 프로그래머에서 디버깅 관련하여 읽었던 터라 더욱 씁쓸했다.
- C : 각 문자열의 첫 글자의 등장횟수를 저장하고, $_nC_2$ 및 $_nC_3$ 정도를 계산해주면 된다. 등장횟수를 `char`로 저장하는 만행을 저질러서 한 번 틀렸다.
- D : "0과 1의 개수가 같으면서, 초기 상태에 제거할 수 있는 카드쌍이 존재한다"와 "카드를 전부 지울 수 있다"는 동치이다. 하나라도 지워지면 이와 인접한 카드가 전부 움직일 수 있다. 인접한 카드는 최소 세 개 있고 비둘기집의 원리에 의해 없앨 수 있는 쌍을 만들어나갈 수 있다. 이 과정을 찾는 문제가 Hard던데 굳이 시도해보진 않았다.
- E : `std::vector` 3개를 관리해서 가운데에 정렬된 원소를, 양 끝에 앞에서 들어오는 원소와 뒤에서 들어오는 원소를 관리했다. 뒤집기 처리에서 사소한 실수가 나서 2번 틀렸다. 좀 더 치밀한 코딩이 필요하다.
- F : 선형 시간 복잡도로 풀고 싶어서 선형으로 풀었다. 쿼리를 뒤에서부터 처리하면서 linked list처럼 원소를 관리하면 된다.
- G : 재밌는 문제. 트리의 지름을 먼저 제거하고, 그 다음에 지름에서 뻗어나가는 가장 긴 가지들을 제거하고, 또 그 가지에서 뻗어나가는 가장 긴 가지를 제거하고...를 반복하면 된다.
- H : n이 작을 때 답을 직접 구해보다가 마땅한 규칙성이 안 보였다. 그래서 수를 이어붙여 답을 확장하는 노선으로 갈아탔는데 생각보다 잘 떠올랐고, 3으로 나눈 나머지로 구분하면 처리할 수 있었다.

### Champion
- A : 여러 가지 기초적인 개념이 들어간 문제이다.
- B : Master의 C와 동일.
- C : 투 포인터를 쓰면 된다. 근데 눈치를 금방 못 챘다. 감이 떨어졌나보다.
- D : 소인수분해한 다음 큰 공통약수부터 곱해나가면 된다.
- E : 이전 상태를 살펴볼 때 모든 리본에 대해서 계산할 필요 없이, 가장 큰 만족도를 가진 2가지 배치만 저장하고 있으면 된다.
- F : Master E의 심화판으로, `std::deque` 2개와 `std::set` 1개를 이용하였다.
- G : 열심히 도전했지만 반례만 나오고 AC를 받지 못했다. 정해 구현은 간결할텐데 내 구현은 늪에 빠져버렸다.
- H : G의 충격으로 인해 아직 읽어보지도 못했다.

자잘한 구현실수가 아쉬웠고, 이전보다 직관도 떨어졌음을 느꼈다. 부단한 연습으로 연마하고자 한다.

## 2022 POSTECH Programming Contest
포스텍 대회도 평이 좋아서 2문제를 제외하고 업솔빙을 진행했다.

- A : 답이 될 수 있는 모든 문자열에 대해 다 확인해보면 된다.
- B : LIS 응용 문제로 동일한 $x$좌표를 가진 점에 대한 약간의 처리가 필요했다.
- C : 원본 그래프가 트리면 불가능하고 그 외에는 가능하다. 크루스칼 알고리즘을 수행하며 신장 트리에 추가되지 않는 첫 간선 $s$를  찾은 다음, 초기 상태를 $s$만 있는 그래프로 설정해 크루스칼 알고리즘을 수행하면 된다.
- D : 풀이를 보고 구현했다. 아호코라식의 흥미로운 응용이 필요하며, failure function으로 구성된 트리 DP를 이분탐색과 곁들이면 된다. 팀노트에서 정말 오랜만 꺼낸 아호코라식을 변형하느라 고생했다.
- E : 식정리를 조금 해본 결과 $A \,\vert\, C \,\vert\, B$랑 동치라서 어렵지 않게 계산했다.
- E2 : 해결하는데 좀 오랜 시간이 걸렸는데, $1 \leq xyz \leq N$를 만족하는 자연수쌍 $(x, y, z)$의 개수를 세는 문제로 변형했다. 고민하다가 변수가 2개일 때는 $O(\sqrt{N})$에 해결할 수 있고, 적분으로 시간복잡도를 구해보면 $\displaystyle\int_{1}^{N^{1/2}} \big(\dfrac{N}{x}\big)^{1/2} dx = 2N^{1/2}(N^{1/4} - 1)$이 성립하기 때문에 $O(N^{3/4})$ 시간복잡도임을 알 수 있고, 구현하면 코드도 간단할 뿐더러 아주 빨리 돈다. 경계 처리 때문에 몇 번의 WA를 받았다.
- F : small-to-large trick으로 해결했다. 내가 AC받은 구현은 상당히 느렸는데, 순위권 제출을 보니까 아주 깔끔하게 구현되어 있었어서 여기에도 남긴다.
  ```c++
void calc(int x) {
  int &res = mex[x];
  s[x].insert(a[x]);
  for (int y : v[x]) {
    calc(y);
    res = max(res, mex[y]);
    if (s[x].size() < s[y].size())
      s[x].swap(s[y]);
    for (int t : s[y])
      s[x].insert(t);
  }
  while (1) {
    if (s[x].find(res) != s[x].end())
      res++;
    else
      break;
  }
}
```
- G : Google Kick Start 초반부 문제로 나올만한 느낌의, 약간의 수학으로 가볍게 정리되는 문제였다.
- H : 이런 느낌의 가장 쉬운 문제, 마음에 든다.
- I : 시간복잡도 $O(NMD^2)$ 코드가 돌 줄 알았으나 시간초과가 발생하여 약간 고민 후 $O(NMD)$로 개선해서 제출했다. 비교연산이 많아서 그랬나보다.
- J : 아이디어가 괜찮았던 문제. 각 구간의 가능한 파인애플 개수가 3~4가지밖에 안 된다는 성질이 강력하게 작용한다.
- K : 풀진 않았지만 기하 문제로 ccw sequence가 cyclic equivalent한지 판별하면 될 것 같다.
- L : 풀진 않았지만 구현이 귀찮아 보였다...플러시만 추가적으로 만들어나가는 식으로 백트래킹이나 동적 계획법을 쓰면 되지 않을까?
- M : 이제야 문제 이름이 POSTECH과 대단히 흡사함을 깨달았다. 그리고 [2018 ICPC 인예 문제](https://www.acmicpc.net/problem/16288)와 풀이의 방향은 거의 동일하다. 저 문제에 냈던 코드는 `std::set`에 `prev(lower_bound(x))`를 지우고 (`lower_bound`가 첫 원소일 때 제외)  `x`로 교체하는 방식이었는데, 이번에 짰을 때는 크기가 4 이하라는 점을 이용해 `vector`에서 똑같이 진행했다. 이전 코드를 보고 아차...싶었다.

## Good Bye, BOJ 2022!
UCPC 2022 본선 대회장에서의 열띤 3인1팀 문제풀이 현장을 봤을 때, 나도 저런 즐거운 순간이 있었지라는 추억 회상과 이제는 저런 오프라인 대회에 참가할 수 없겠지라는 안타까운 생각이 교차했다. 이번에 전대프연이 주최하는 [Good Bye, BOJ 2022 / Hello, BOJ 2023!](https://2022w.ucpc.me/)가 오프라인 본선 대회를 열며 일반인도 초청한다는 사실을 알고 기대를 많이 했다. 특히 50~100명 정도의 대규모 본선이라 내 실력이라면 갈 수 있지 않을까라는 과신도 있었다. 2021년 문제가 괜찮게 잘 풀려서 본 대회도 괜찮겠지 싶었다. 결과적으로 진출은 했지만 대회가 끝나고 본선 진출자가 발표되기 전까지는 자존감 하락과 막심한 후회와 어찌할 수 없는 실력과 안타까움에 파묻혀 있었다.

# 결론
풀면서 티어와 상관없이 모든 문제는 얕잡아보면 안 된다는 사실을 다시금 깨달았다. 그리고 애드 혹은 늘 어렵다. 녹슨 문제 해결능력을 다시 광택을 내봐야겠다. 편집기 기능도 알음알음 조금씩 응용해보자.
